<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Xataface: Dataface_PermissionsTool_Instance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Dataface_PermissionsTool_Instance Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afbf043873d8ea22969ca9f2baa767d69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#afbf043873d8ea22969ca9f2baa767d69">__construct</a> ($conf=null)</td></tr>
<tr class="separator:afbf043873d8ea22969ca9f2baa767d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39e676a19b8c00150cb0c9f8949a16d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ab39e676a19b8c00150cb0c9f8949a16d">removeContextMask</a> (<a class="el" href="class_dataface___related_record.html">Dataface_RelatedRecord</a> $contextRecord)</td></tr>
<tr class="memdesc:ab39e676a19b8c00150cb0c9f8949a16d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a related record's permissions from the permissions mask for its destination records.  <a href="#ab39e676a19b8c00150cb0c9f8949a16d">More...</a><br/></td></tr>
<tr class="separator:ab39e676a19b8c00150cb0c9f8949a16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e0e67afa1e7e7bf51bed11e82e49df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ac0e0e67afa1e7e7bf51bed11e82e49df">addContextMask</a> (<a class="el" href="class_dataface___related_record.html">Dataface_RelatedRecord</a> $contextRecord)</td></tr>
<tr class="memdesc:ac0e0e67afa1e7e7bf51bed11e82e49df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds as related record's permissions as a permissions mask for its destination records. Any call to <a class="el" href="class_dataface___permissions_tool___instance.html#a5b22571ba5fb8728dd951a01a0ff8cd6">getPermissions()</a> on the destination records will now have their permissions augmented by the relationship permissions defined in the context record.  <a href="#ac0e0e67afa1e7e7bf51bed11e82e49df">More...</a><br/></td></tr>
<tr class="separator:ac0e0e67afa1e7e7bf51bed11e82e49df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754afa31197428e3172d4cf027cd1e9e"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a754afa31197428e3172d4cf027cd1e9e">getContextMasks</a> ()</td></tr>
<tr class="memdesc:a754afa31197428e3172d4cf027cd1e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a mask of permissions to be laid on top of permissions for particular records or their fields when obtaining their permissions. This enables us to provide modified permissions for records depending on whether it is being accessed via a relationship or not.  <a href="#a754afa31197428e3172d4cf027cd1e9e">More...</a><br/></td></tr>
<tr class="separator:a754afa31197428e3172d4cf027cd1e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f40431dedb14aef3feac8506f960f64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64">getContextMask</a> ($id, $fieldname=null)</td></tr>
<tr class="memdesc:a8f40431dedb14aef3feac8506f960f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the context mask for a particular record id.  <a href="#a8f40431dedb14aef3feac8506f960f64">More...</a><br/></td></tr>
<tr class="separator:a8f40431dedb14aef3feac8506f960f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74848836c9479b56dea30b9e9ae00c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#aa74848836c9479b56dea30b9e9ae00c9">getPortalRecordPermissions</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $record, $params=array())</td></tr>
<tr class="memdesc:aa74848836c9479b56dea30b9e9ae00c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> to get the permissions for a record through the context of a portal.  <a href="#aa74848836c9479b56dea30b9e9ae00c9">More...</a><br/></td></tr>
<tr class="separator:aa74848836c9479b56dea30b9e9ae00c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ffb020e20c3c65b846bda07423b096"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a28ffb020e20c3c65b846bda07423b096">getPortalFieldPermissions</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $record, $params=array())</td></tr>
<tr class="memdesc:a28ffb020e20c3c65b846bda07423b096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> to get the permissions for a record through the context of a portal.  <a href="#a28ffb020e20c3c65b846bda07423b096">More...</a><br/></td></tr>
<tr class="separator:a28ffb020e20c3c65b846bda07423b096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50d286f61c5b4f62a8041015a176bc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ad50d286f61c5b4f62a8041015a176bc1">setDelegate</a> ($del)</td></tr>
<tr class="separator:ad50d286f61c5b4f62a8041015a176bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad1f0f0c706d8dfd47033c5398c1f5b"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#afad1f0f0c706d8dfd47033c5398c1f5b">getContext</a> ()</td></tr>
<tr class="separator:afad1f0f0c706d8dfd47033c5398c1f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313783d5477383dd99a2f3785705aaf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a313783d5477383dd99a2f3785705aaf4">setContext</a> ($context)</td></tr>
<tr class="separator:a313783d5477383dd99a2f3785705aaf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243ca1b5a5013a544381ce570813feb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a243ca1b5a5013a544381ce570813feb4">clearContext</a> ()</td></tr>
<tr class="separator:a243ca1b5a5013a544381ce570813feb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf04de4b273f48993716bf17a91b817"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a5bf04de4b273f48993716bf17a91b817">PUBLIC_CONTEXT</a> ()</td></tr>
<tr class="separator:a5bf04de4b273f48993716bf17a91b817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9cfa6dbd461554e6a5c9bdf12545fc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#af9cfa6dbd461554e6a5c9bdf12545fc0">addPermissions</a> ($conf)</td></tr>
<tr class="separator:af9cfa6dbd461554e6a5c9bdf12545fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b22571ba5fb8728dd951a01a0ff8cd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a5b22571ba5fb8728dd951a01a0ff8cd6">getPermissions</a> (&amp;$obj, $params=array())</td></tr>
<tr class="separator:a5b22571ba5fb8728dd951a01a0ff8cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9b92df74b404afd3ffcd8f66fec735"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a8f9b92df74b404afd3ffcd8f66fec735">filterPermissions</a> (&amp;$obj, &amp;$perms, $params=array())</td></tr>
<tr class="separator:a8f9b92df74b404afd3ffcd8f66fec735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2b6d80e030c58faf514607b9df31a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a7f2b6d80e030c58faf514607b9df31a2">checkPermission</a> ($permissionName, $perms, $params=array())</td></tr>
<tr class="separator:a7f2b6d80e030c58faf514607b9df31a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae234762f74664fefd254993f85421e04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ae234762f74664fefd254993f85421e04">view</a> (&amp;$perms, $params=array())</td></tr>
<tr class="separator:ae234762f74664fefd254993f85421e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f1e28608c075c8f256e45ec117acd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a56f1e28608c075c8f256e45ec117acd0">edit</a> (&amp;$perms, $params=array())</td></tr>
<tr class="separator:a56f1e28608c075c8f256e45ec117acd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae136bf3dba712301d93e8d89f63c5a80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ae136bf3dba712301d93e8d89f63c5a80">delete</a> (&amp;$perms, $params=array())</td></tr>
<tr class="separator:ae136bf3dba712301d93e8d89f63c5a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307192484f7e84014a56c8892fa0933b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a307192484f7e84014a56c8892fa0933b">MASK</a> ()</td></tr>
<tr class="separator:a307192484f7e84014a56c8892fa0933b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3655259772595a77a9017c888a348e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ae3655259772595a77a9017c888a348e0">_zero</a> ()</td></tr>
<tr class="separator:ae3655259772595a77a9017c888a348e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de89f9b63f7439bdbda6710d1eed3b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a5de89f9b63f7439bdbda6710d1eed3b7">_one</a> ()</td></tr>
<tr class="separator:a5de89f9b63f7439bdbda6710d1eed3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4daefee5a549aa099703ab479bb611c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a4daefee5a549aa099703ab479bb611c9">NO_ACCESS</a> ()</td></tr>
<tr class="separator:a4daefee5a549aa099703ab479bb611c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4609676aa8203d388affd2b042c5c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a3b4609676aa8203d388affd2b042c5c6">READ_ONLY</a> ()</td></tr>
<tr class="separator:a3b4609676aa8203d388affd2b042c5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617b4c4d99f19f53e9cf7bd116594001"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a617b4c4d99f19f53e9cf7bd116594001">ALL</a> ()</td></tr>
<tr class="separator:a617b4c4d99f19f53e9cf7bd116594001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff04dcc18a7b6ea8c7a957187b89863"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a4ff04dcc18a7b6ea8c7a957187b89863">READ_EDIT</a> ()</td></tr>
<tr class="separator:a4ff04dcc18a7b6ea8c7a957187b89863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad960f05a82d366b539d8f0d8dd779cc5"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions</a> ($roleName)</td></tr>
<tr class="separator:ad960f05a82d366b539d8f0d8dd779cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215e6bde72a24098323c57b2606c67b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a215e6bde72a24098323c57b2606c67b1">roleExists</a> ($roleName)</td></tr>
<tr class="separator:a215e6bde72a24098323c57b2606c67b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b60eedb7336bf814c018fae15da321"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a14b60eedb7336bf814c018fae15da321">namesAsArray</a> ($permissions)</td></tr>
<tr class="separator:a14b60eedb7336bf814c018fae15da321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2436cca86e31ae2384ffece548140f86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a2436cca86e31ae2384ffece548140f86">namesAsString</a> ($permissions)</td></tr>
<tr class="separator:a2436cca86e31ae2384ffece548140f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5bd3fbb8a829e6e261c6e7de22150d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#aff5bd3fbb8a829e6e261c6e7de22150d">cachePermissions</a> (&amp;$record, $params, $perms)</td></tr>
<tr class="separator:aff5bd3fbb8a829e6e261c6e7de22150d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8334e0f57bb8f6d6099ff1617334e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a9c8334e0f57bb8f6d6099ff1617334e3">getCachedPermissions</a> (&amp;$record, $params)</td></tr>
<tr class="separator:a9c8334e0f57bb8f6d6099ff1617334e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:af7d8375fb97cbf318fea2d67df85c2b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#af7d8375fb97cbf318fea2d67df85c2b3">$_cache</a> = array()</td></tr>
<tr class="separator:af7d8375fb97cbf318fea2d67df85c2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466a21908bffdbcdc94dca846d66e138"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#a466a21908bffdbcdc94dca846d66e138">$rolePermissions</a> = array()</td></tr>
<tr class="separator:a466a21908bffdbcdc94dca846d66e138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf3a7a4bf2c5133e7bca892a6223c1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#abbf3a7a4bf2c5133e7bca892a6223c1a">$permissions</a> = array()</td></tr>
<tr class="separator:abbf3a7a4bf2c5133e7bca892a6223c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05dedb802ada0155efdece2044fed64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#ae05dedb802ada0155efdece2044fed64">$context</a> = null</td></tr>
<tr class="separator:ae05dedb802ada0155efdece2044fed64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28ddaa50f2346546cfecd06e76921d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#af28ddaa50f2346546cfecd06e76921d6">$contextMasks</a> = null</td></tr>
<tr class="separator:af28ddaa50f2346546cfecd06e76921d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace838b726f4caf1c450f5cbd3fa512e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___permissions_tool___instance.html#aace838b726f4caf1c450f5cbd3fa512e">$delegate</a> = null</td></tr>
<tr class="separator:aace838b726f4caf1c450f5cbd3fa512e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00301">301</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afbf043873d8ea22969ca9f2baa767d69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conf</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00323">323</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5de89f9b63f7439bdbda6710d1eed3b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00795">795</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae3655259772595a77a9017c888a348e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_zero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00791">791</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac0e0e67afa1e7e7bf51bed11e82e49df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addContextMask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___related_record.html">Dataface_RelatedRecord</a>&#160;</td>
          <td class="paramname"><em>$contextRecord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds as related record's permissions as a permissions mask for its destination records. Any call to <a class="el" href="class_dataface___permissions_tool___instance.html#a5b22571ba5fb8728dd951a01a0ff8cd6">getPermissions()</a> on the destination records will now have their permissions augmented by the relationship permissions defined in the context record. </p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___related_record.html" title="Encapsulates a row in a relationship. This may contain fields that span across multiple tables...">Dataface_RelatedRecord</a></td><td class="paramname">$contextRecord</td><td>The context record to provide permissions for its destination records. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___permissions_tool___instance.html#ab39e676a19b8c00150cb0c9f8949a16d" title="Removes a related record&#39;s permissions from the permissions mask for its destination records...">removeContextMask()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a754afa31197428e3172d4cf027cd1e9e" title="Obtains a mask of permissions to be laid on top of permissions for particular records or their fields...">getContextMasks()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#aa74848836c9479b56dea30b9e9ae00c9" title="Wrapper around getContextMask() to get the permissions for a record through the context of a portal...">getPortalRecordPermissions()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a28ffb020e20c3c65b846bda07423b096" title="Wrapper around getContextMask() to get the permissions for a record through the context of a portal...">getPortalFieldPermissions()</a> </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00385">385</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="af9cfa6dbd461554e6a5c9bdf12545fc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addPermissions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds permissions as loaded from a configuration file. Key/Value pairs are interpreted as being permission Name/Label pairs and key/Array(key/value) are interpreted as being a role defintion. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00650">650</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a617b4c4d99f19f53e9cf7bd116594001"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to permissions array that has all permissions (view, edit, and delete). !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00832">832</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="aff5bd3fbb8a829e6e261c6e7de22150d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cachePermissions </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00922">922</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7f2b6d80e030c58faf514607b9df31a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkPermission </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permissionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if a particular permission is granted in an object or permissions array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$permissionName</td><td>The name of the permission to check (one of {'view','edit','delete'}) </td></tr>
    <tr><td class="paramname">$perms</td><td>The object or permissions array to check. It this is an object it must be of type one of {<a class="el" href="class_dataface___table.html" title="A class that represents the table of a table in a database.">Dataface_Table</a>, <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a>, or <a class="el" href="class_dataface___relationship.html">Dataface_Relationship</a>}. </td></tr>
    <tr><td class="paramname">$params</td><td>Optional field name in the case that param #2 is a table or record. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00712">712</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a243ca1b5a5013a544381ce570813feb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clearContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00633">633</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae136bf3dba712301d93e8d89f63c5a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if an object or permissions array has delete permissions. !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$perms</td><td>Either an object (Table or Record) or a permissions array. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">2</td><td>Optional name of a field we wish to check (only if $perms is a Table or Record). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00768">768</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a56f1e28608c075c8f256e45ec117acd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">edit </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if an object or permissions array has edit permissions. !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$perms</td><td>Either an object (Table or Record) or a permissions array. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">2</td><td>Optional name of a field we wish to check (only if $perms is a Table or Record). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00755">755</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8f9b92df74b404afd3ffcd8f66fec735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filterPermissions </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00702">702</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9c8334e0f57bb8f6d6099ff1617334e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getCachedPermissions </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00947">947</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="afad1f0f0c706d8dfd47033c5398c1f5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00627">627</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8f40431dedb14aef3feac8506f960f64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getContextMask </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldname</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the context mask for a particular record id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The record id of the record to get the mask for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldname</td><td>The optional field name to get the mask for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array(</dd></dl>
<dl class="section rcs"><dt>perm:</dt><dd>tring=&gt;</dd></dl>
<p>val:boolean) A permissions mask</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___permissions_tool___instance.html#a754afa31197428e3172d4cf027cd1e9e" title="Obtains a mask of permissions to be laid on top of permissions for particular records or their fields...">getContextMasks()</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00591">591</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a754afa31197428e3172d4cf027cd1e9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getContextMasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a mask of permissions to be laid on top of permissions for particular records or their fields when obtaining their permissions. This enables us to provide modified permissions for records depending on whether it is being accessed via a relationship or not. </p>
<p>For example, suppose there is a relationship from table A to table B. The user has full permission to table A and no permission for table B, but the user has "view related records" permission on the relationship from A to B. Then a record of B that is related to A should be visible to the user.</p>
<p>This depends on the <code>-portal-context</code> REQUEST parameter in order to work. That parameter should contain a related record ID that should be used to provide a permissions mask. This mask will only apply to the destination records of the specified related record, and the mask only contains those permissions that can be affected by the parent's relationship. This includes:</p>
<ol type="1">
<li>new (from 'add new related record' and 'add existing related record')</li>
<li>delete (from 'delete related record')</li>
<li>edit (from 'edit related records')</li>
<li>view (from 'view related records')</li>
<li>find (from 'find related records')</li>
<li>link (from 'link related records')</li>
</ol>
<h3>Example</h3>
<p>Suppose we are viewing the record books?book_id=10 but the -portal-context REQUEST parameter provided is:</p>
<div class="fragment"><div class="line">publishers/books?publishers::publisher_id=2&amp;books::book_id=10</div>
</div><!-- fragment --> <p>Further, suppose that the user is granted the 'view related records' and 'edit related records' permissions on the publishers?publisher_id=2 record's books relationship, but no permission to the books?book_id=10 record.</p>
<p>In this example the user will have view and edit permission to the books record because the -portal-context allows it (i.e. it uses the permissions of the related record as a wrapper around the actual record to provide permissions).</p>
<p>In the same way, the context could be used to deny permissions on a record. The portal context gets the final say (i.e. overrides the record's permissions).</p>
<h3>Field Permissions</h3>
<p>Field permissions work similarly. The relationship level permissions specified by the parent record's relationship will not override permissions explicitly set for a field in the target record. However permissions specified for a particular field of the relationship will override the field-level permissions of the target.</p>
<p>For example:</p>
<ul>
<li>
Parent record grants view related records permission </li>
<li>
Target record denies view </li>
<li>
Target table denies view on field A </li>
</ul>
<p>Will result in view being denied on field A of the target table.</p>
<p>But...</p>
<ul>
<li>
Parent record grants view related records permission </li>
<li>
Target record denies view </li>
<li>
Target table denies view on field A </li>
<li>
Parent record grants view on field A of the relationship </li>
</ul>
<p>Will result in view being granted on field A of the target table.</p>
<dl class="section return"><dt>Returns</dt><dd>array( </dd></dl>
<dl class="section rcs"><dt>id:</dt><dd>tring =&gt; array( </dd></dl>
<p>perm:string =&gt; $val:boolean ))</p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00562">562</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5b22571ba5fb8728dd951a01a0ff8cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPermissions </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the permissions of an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$obj</td><td>A <a class="el" href="class_dataface___table.html" title="A class that represents the table of a table in a database.">Dataface_Table</a>, <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a>, or <a class="el" href="class_dataface___relationship.html">Dataface_Relationship</a> record we wish to check. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">2</td><td>Optional field name whose permission we wish to check. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00679">679</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a28ffb020e20c3c65b846bda07423b096"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPortalFieldPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around <a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> to get the permissions for a record through the context of a portal. </p>
<dl class="section return"><dt>Returns</dt><dd>array(</dd></dl>
<dl class="section rcs"><dt>perm:</dt><dd>tring =&gt; </dd></dl>
<p>val:boolean) </p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00619">619</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa74848836c9479b56dea30b9e9ae00c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPortalRecordPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around <a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> to get the permissions for a record through the context of a portal. </p>
<dl class="section return"><dt>Returns</dt><dd>array(</dd></dl>
<dl class="section rcs"><dt>perm:</dt><dd>tring =&gt; </dd></dl>
<p>val:boolean) </p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00607">607</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad960f05a82d366b539d8f0d8dd779cc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getRolePermissions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the permissions that are assigned to a certain role. This allows a set of permissions to be grouped together and returned by <a class="el" href="class_dataface___permissions_tool___instance.html#a5b22571ba5fb8728dd951a01a0ff8cd6">getPermissions()</a> methods. A role is essentially just a list of permissions that are associated with the name of the role. Roles can be defined in the permissions.ini files which are located in any table configuration folder, the application folder, or the dataface folder. Try to place the roles in the appropriate folder based on what it is most closely related to. For example, if the role is specifically related to one table then place it in the permissions.ini file for that table, but if it is more general you can place it in the permissions.ini file for the application. This will allow for better modularization and re-use of useful table definitions between applications. The goal here is to allow you to distribute your tables to others so that they can be added easily to other applications. If everything relating to the table is located in one folder then this becomes much easier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$roleName</td><td>The name of the role.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of permissions (the keys are the permission names, and the values are the permission labels. </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00875">875</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a307192484f7e84014a56c8892fa0933b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MASK </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00774">774</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a14b60eedb7336bf814c018fae15da321"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">namesAsArray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permissions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a list of names of granted permissions in a given permissions array. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00901">901</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2436cca86e31ae2384ffece548140f86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">namesAsString </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permissions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns comma-delimited list of names of granted permissions in a given permissions array. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00918">918</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4daefee5a549aa099703ab479bb611c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NO_ACCESS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to static NO ACCESS permissions array. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00802">802</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5bf04de4b273f48993716bf17a91b817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; PUBLIC_CONTEXT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00637">637</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ff04dcc18a7b6ea8c7a957187b89863"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; READ_EDIT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to permissions array that has read and edit access (but not delete). !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00848">848</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3b4609676aa8203d388affd2b042c5c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">READ_ONLY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference to permissions array that have only view permissions. !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00815">815</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab39e676a19b8c00150cb0c9f8949a16d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">removeContextMask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___related_record.html">Dataface_RelatedRecord</a>&#160;</td>
          <td class="paramname"><em>$contextRecord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a related record's permissions from the permissions mask for its destination records. </p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___related_record.html" title="Encapsulates a row in a relationship. This may contain fields that span across multiple tables...">Dataface_RelatedRecord</a></td><td class="paramname">$contextRecord</td><td>The related record that is being removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___permissions_tool___instance.html#ac0e0e67afa1e7e7bf51bed11e82e49df" title="Adds as related record&#39;s permissions as a permissions mask for its destination records. Any call to getPermissions() on the destination records will now have their permissions augmented by the relationship permissions defined in the context record.">addContextMask()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a754afa31197428e3172d4cf027cd1e9e" title="Obtains a mask of permissions to be laid on top of permissions for particular records or their fields...">getContextMasks()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a8f40431dedb14aef3feac8506f960f64" title="Gets the context mask for a particular record id.">getContextMask()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#aa74848836c9479b56dea30b9e9ae00c9" title="Wrapper around getContextMask() to get the permissions for a record through the context of a portal...">getPortalRecordPermissions()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool___instance.html#a28ffb020e20c3c65b846bda07423b096" title="Wrapper around getContextMask() to get the permissions for a record through the context of a portal...">getPortalFieldPermissions()</a> </dd></dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00351">351</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a215e6bde72a24098323c57b2606c67b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">roleExists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00893">893</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a313783d5477383dd99a2f3785705aaf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setContext </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00628">628</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad50d286f61c5b4f62a8041015a176bc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setDelegate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$del</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00623">623</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae234762f74664fefd254993f85421e04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">view </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if an object or permissions array has view permissions. !! NOTE THAT THIS METHOD IS DEPRECATED AS OF VERSION 0.6 . PLEASE USE !! <a class="el" href="class_dataface___permissions_tool___instance.html#ad960f05a82d366b539d8f0d8dd779cc5">getRolePermissions()</a> instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$perms</td><td>Either an object (Table or Record) or a permissions array. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">2</td><td>Optional name of a field we wish to check (only if $perms is a Table or Record). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00742">742</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="af7d8375fb97cbf318fea2d67df85c2b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_cache = array()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00304">304</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae05dedb802ada0155efdece2044fed64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$context = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00316">316</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="af28ddaa50f2346546cfecd06e76921d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$contextMasks = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00318">318</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="aace838b726f4caf1c450f5cbd3fa512e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$delegate = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00321">321</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="abbf3a7a4bf2c5133e7bca892a6223c1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$permissions = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Associative array of the loaded permissions. [Permission name] -&gt; [Permission Label]. </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00314">314</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a466a21908bffdbcdc94dca846d66e138"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$rolePermissions = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An associative array of role permissions available. [Role Name] -&gt; array([Permission Name] -&gt; [Allowed (0 or 1)]) </p>

<p>Definition at line <a class="el" href="_permissions_tool_8php_source.html#l00309">309</a> of file <a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Dataface/<a class="el" href="_permissions_tool_8php_source.html">PermissionsTool.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 5 2014 09:52:20 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
